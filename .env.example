# ============================================================================
# ENVIRONMENT
# ============================================================================
APP_ENV=development

# ============================================================================
# SEGURANCA E CORS
# ============================================================================
# Em producao, configure ALLOWED_ORIGINS com os dominios do frontend
# ALLOWED_ORIGINS=https://app.seudominio.com,https://admin.seudominio.com
# Ou use FRONTEND_URL para uma unica origem
FRONTEND_URL=http://localhost:5173

# Permite origens de desenvolvimento (desabilite em producao)
ALLOW_DEV_CORS=true

# CORS_ALLOW_ALL=true libera CORS para qualquer origem (APENAS DESENVOLVIMENTO!)
# NUNCA use true em producao!
CORS_ALLOW_ALL=false

# Permite credenciais de banco default (desabilite em producao)
ALLOW_DEFAULT_DB=true

# ============================================================================
# SEGURANCA JWT (OBRIGATORIO)
# ============================================================================
# Gere com: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=CHANGE_ME_GENERATE_A_SECURE_KEY

# ============================================================================
# GOOGLE GEMINI (OBRIGATORIO)
# ============================================================================
# LLM: Gemini 2.5 Pro para analise e conversacao
# Embeddings: text-embedding-004 para busca semantica
# Obtenha sua chave em: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=your_google_api_key_here

# ============================================================================
# TAVILY SEARCH (RECOMENDADO)
# ============================================================================
# Busca web atualizada para precos, fornecedores e contexto de produtos
TAVILY_API_KEY=your_tavily_api_key_here

# ============================================================================
# BANCO DE DADOS MYSQL
# ============================================================================
DATABASE_URL=mysql+mysqlconnector://app_user:app_password@db:3306/app_db
MYSQL_ROOT_PASSWORD=change_me_root_password
MYSQL_DATABASE=app_db
MYSQL_USER=app_user
MYSQL_PASSWORD=change_me_app_password

# ============================================================================
# REDIS (Cache + Result Backend)
# ============================================================================
REDIS_URL=redis://redis:6379/0
CACHE_REDIS_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/0

# ============================================================================
# RABBITMQ (Message Broker - Celery)
# ============================================================================
RABBITMQ_DEFAULT_USER=pmi
RABBITMQ_DEFAULT_PASS=change_me_rabbitmq_password
RABBITMQ_DEFAULT_VHOST=pmi
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672

# ============================================================================
# OBSERVABILIDADE (Prometheus/Grafana)
# ============================================================================
PROMETHEUS_ENABLED=true

# ============================================================================
# SCRAPER API (Mercado Livre) - Opcional
# ============================================================================
# https://dashboard.scraperapi.com/home
SCRAPERAPI_KEY=your_scraperapi_key_here
SCRAPERAPI_COUNTRY=BR
SCRAPERAPI_RENDER=true
SCRAPERAPI_PREMIUM=false
SCRAPERAPI_DEVICE_TYPE=
SCRAPERAPI_AUTOPARSE=false
SCRAPERAPI_KEEP_HEADERS=false

# ============================================================================
# SCRAPING DEFAULTS (Mercado Livre)
# ============================================================================
SCRAPING_BASE_URL=https://www.mercadolivre.com.br/search?as_word={query}
SCRAPING_PRICE_SELECTOR=.ui-search-result__content .price-tag-fraction
SCRAPING_HTTP_PROXY=
SCRAPING_HTTPS_PROXY=
SCRAPING_ALLOW_FAKE_DATA=true
SCRAPING_MOCK_PRICE_MIN=80.0
SCRAPING_MOCK_PRICE_MAX=150.0
SCRAPING_SCHEDULE_CRON=0 */8 * * *

# ============================================================================
# EMAIL (Gmail SMTP) - Opcional
# ============================================================================
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password_here
EMAIL_FROM=your_email@gmail.com
EMAIL_TO=your_email@gmail.com
EMAIL_SUBJECT="Relatorio de Re-Treino de Modelo"

# ============================================================================
# LANGCHAIN (Logging)
# ============================================================================
LANGCHAIN_LOG_LEVEL=info
